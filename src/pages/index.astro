---
const images = import.meta.glob("/public/photos/*.{jpg,jpeg,png,webp,avif,gif}", {
  eager: true,
});

const photoUrls = Object.keys(images)
  // turn "/public/photos/x.jpg" into "/photos/x.jpg"
  .map((path) => path.replace("/public", ""))
  // optional: newest first if filenames sort that way
  .sort()
  .reverse();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>flowershere.photos</title>
  </head>

  <body>
    <main class="wrap">
      <section class="grid" aria-label="Photo gallery">
        {photoUrls.map((url) => (
          <a class="tile" href={url} target="_blank" rel="noreferrer">
            <img src={url} alt="" loading="lazy" decoding="async" />
          </a>
        ))}
      </section>
    </main>
  </body>
</html>

<style>
  :global(html, body) {
    margin: 0;
    background: #0b0b0f;
    color: #fff;
  }

  .wrap {
    padding: 18px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
    gap: 12px;
  }

  .tile {
    display: block;
    border-radius: 14px;
    overflow: hidden;
    background: #141420;
    box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    transform: translateZ(0);
  }

  .tile img {
    width: 100%;
    height: 100%;
    display: block;
    aspect-ratio: 1 / 1; /* makes it a clean grid */
    object-fit: cover;
    filter: saturate(1.05);
    transition: transform 180ms ease, opacity 180ms ease;
    opacity: 0.92;
  }

  .tile:hover img {
    transform: scale(1.03);
    opacity: 1;
  }
</style>

